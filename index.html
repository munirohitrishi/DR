<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedding Invitation | Divya & Rohit Rishi</title>
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;500;700&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Animate on Scroll (AOS) for animations -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        /* Custom styles for fonts and other elements */
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #FFF8F0; /* A soft, warm off-white */
        }
        .font-great-vibes {
            font-family: 'Great Vibes', cursive;
        }
        .font-playfair {
            font-family: 'Playfair Display', serif;
        }
        .hero-section {
            background-image: url('https://i.postimg.cc/RZzBgyKn/Whats-App-Image-2025-06-27-at-11-56-12-PM.jpg'); /* Updated background image */
            background-size: cover;
            background-position: center;
        }
        .text-shadow-custom {
            /* Increased shadow intensity for better visibility */
            text-shadow: 2px 2px 12px rgba(0, 0, 0, 0.8), 0 0 6px rgba(0, 0, 0, 0.9);
        }
        .card-bg {
             background-color: rgba(255, 255, 255, 0.8);
             backdrop-filter: blur(10px);
        }
        /* Style for gallery images to ensure they are consistent */
        .gallery-img {
            width: 100%;
            height: 300px; /* Or a specific height you prefer */
            object-fit: cover;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.3s ease-in-out;
        }
        .gallery-img:hover {
            transform: scale(1.05);
        }
        /* Styles for the wishes form and display */
        .wish-card {
            background-color: #fffaf5;
            border-left: 4px solid #d69e2e; /* amber-700 */
        }
        /* Music player button style */
        #music-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #c05621; /* amber-800 */
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 1000;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Background Music -->
    <audio id="bg-music" loop>
        <source src="https://www.mboxdrive.com/Mangalayam.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <button id="music-toggle">
        <i id="music-icon" class="fas fa-play"></i>
    </button>

    <!-- Hero Section -->
    <section class="hero-section h-screen flex flex-col items-center justify-center text-white relative">
        <div class="absolute inset-0 bg-black opacity-40"></div>
        <div class="relative z-10 text-center p-4" data-aos="fade-in" data-aos-duration="1500">
            <p class="font-playfair text-xl md:text-2xl mb-4 text-shadow-custom">WE ARE GETTING MARRIED</p>
            <h1 class="font-great-vibes text-6xl md:text-9xl text-shadow-custom">Divya & Rohit Rishi</h1>
            <p class="font-playfair text-xl md:text-3xl mt-4 text-shadow-custom">14 . 08 . 2025</p>
        </div>
    </section>

    <!-- Invitation Message Section -->
    <section class="py-20 px-6 bg-white">
        <div class="max-w-4xl mx-auto text-center">
            <h2 class="font-great-vibes text-5xl md:text-7xl text-amber-800 mb-6" data-aos="fade-up">Join Us</h2>
            <p class="text-lg md:text-xl leading-relaxed text-gray-600" data-aos="fade-up" data-aos-delay="200">
                With joyful hearts, we, Divya and Rohit Rishi, invite you to celebrate our wedding. We've chosen to begin our new life together, and we would be honored to have you witness our vows and share in our happiness. Your presence is the greatest gift we could ask for.
            </p>
        </div>
    </section>
    
    <!-- Bride and Groom Section -->
    <section class="py-20 px-6">
        <div class="max-w-5xl mx-auto text-center">
             <h2 class="font-great-vibes text-5xl md:text-7xl text-amber-800 mb-12" data-aos="fade-up">The Happy Couple</h2>
            <div class="flex flex-col md:flex-row justify-center items-center gap-12 md:gap-20">
                <!-- Bride -->
                <div class="text-center" data-aos="fade-right" data-aos-duration="1000">
                    <img src="https://i.postimg.cc/gcxHYq2g/Whats-App-Image-2025-06-28-at-12-38-18-AM.jpg" alt="Divya, the bride" class="w-48 h-48 md:w-60 md:h-60 rounded-full object-cover mx-auto border-4 border-amber-100 shadow-lg">
                    <h3 class="font-playfair text-3xl mt-6">Chi. Sou. Divya</h3>
                    <p class="text-gray-500 mt-2">D/o. Smt. Revathi & sri Surya Narayana</p>
                </div>
                <!-- Groom -->
                <div class="text-center" data-aos="fade-left" data-aos-duration="1000">
                    <img src="https://i.postimg.cc/cC7HsbgK/Whats-App-Image-2025-06-28-at-12-55-54-AM.jpg" alt="Rohit Rishi, the groom" class="w-48 h-48 md:w-60 md:h-60 rounded-full object-cover mx-auto border-4 border-amber-100 shadow-lg">
                    <h3 class="font-playfair text-3xl mt-6">Chi. Rohit Rishi</h3>
                    <p class="text-gray-500 mt-2">S/o. Smt. Naga Pushpa Latha & Sri Srinivasa Rao</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Event Details Section -->
    <section class="py-20 px-6 bg-white">
        <div class="max-w-6xl mx-auto text-center">
            <h2 class="font-great-vibes text-5xl md:text-7xl text-amber-800 mb-12" data-aos="fade-up">Wedding Events</h2>
            <div class="grid md:grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12">
                <!-- Reception Card -->
                <div class="card-bg border border-amber-200 rounded-xl p-8 shadow-lg text-center" data-aos="zoom-in-up">
                    <h3 class="font-playfair text-3xl font-semibold mb-4 text-amber-900">Reception</h3>
                    <p class="text-lg text-gray-600"><i class="far fa-calendar-alt mr-2"></i>Thursday, 14th August 2025</p>
                    <p class="text-lg text-gray-600 mt-2"><i class="far fa-clock mr-2"></i>7:00 PM onwards (IST)</p>
                    <div class="mt-4 text-gray-700">
                        <p class="text-xl font-semibold">Santhi Convention</p>
                        <p>Kotha Road Junction, Srikakulam, 532001</p>
                    </div>
                    <div class="mt-6 flex flex-col sm:flex-row justify-center gap-4">
                        <a href="https://maps.app.goo.gl/e8bWpnCUsYC6eNPs5" target="_blank" class="inline-block bg-amber-800 text-white py-3 px-6 rounded-lg hover:bg-amber-900 transition-colors duration-300">
                            <i class="fas fa-map-marker-alt mr-2"></i>View on Map
                        </a>
                        <a href="https://www.google.com/calendar/render?action=TEMPLATE&text=Reception%3A%20Divya%20%26%20Rohit%20Rishi&dates=20250814T133000Z/20250814T173000Z&details=Join%20us%20for%20the%20reception%20of%20Divya%20%26%20Rohit%20Rishi.&location=Santhi%20Convention,%20Kotha%20Road%20Junction,%20Srikakulam,%20532001" target="_blank" class="inline-block bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-300">
                            <i class="far fa-calendar-plus mr-2"></i>Add to Calendar
                        </a>
                    </div>
                </div>
                <!-- Muhurtham Card -->
                <div class="card-bg border border-amber-200 rounded-xl p-8 shadow-lg text-center" data-aos="zoom-in-up">
                    <h3 class="font-playfair text-3xl font-semibold mb-4 text-amber-900">Muhurtham</h3>
                    <p class="text-lg text-gray-600"><i class="far fa-calendar-alt mr-2"></i>Friday, 15th August 2025</p>
                    <p class="text-lg text-gray-600 mt-2"><i class="far fa-clock mr-2"></i>3:13 AM (IST)</p>
                     <div class="mt-4 text-gray-700">
                        <p class="text-xl font-semibold">Santhi Convention</p>
                        <p>Kotha Road Junction, Srikakulam, 532001</p>
                    </div>
                    <div class="mt-6 flex flex-col sm:flex-row justify-center gap-4">
                        <a href="https://maps.app.goo.gl/e8bWpnCUsYC6eNPs5" target="_blank" class="inline-block bg-amber-800 text-white py-3 px-6 rounded-lg hover:bg-amber-900 transition-colors duration-300">
                            <i class="fas fa-map-marker-alt mr-2"></i>View on Map
                        </a>
                        <a href="https://www.google.com/calendar/render?action=TEMPLATE&text=Muhurtham%3A%20Divya%20%26%20Rohit%20Rishi&dates=20250814T214300Z/20250814T234300Z&details=Join%20us%20for%20the%20muhurtham%20of%20Divya%20%26%20Rohit%20Rishi.&location=Santhi%20Convention,%20Kotha%20Road%20Junction,%20Srikakulam,%20532001" target="_blank" class="inline-block bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-300">
                           <i class="far fa-calendar-plus mr-2"></i>Add to Calendar
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section class="py-20 px-6">
        <div class="max-w-6xl mx-auto text-center">
            <h2 class="font-great-vibes text-5xl md:text-7xl text-amber-800 mb-12" data-aos="fade-up">Kalyanam</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div data-aos="zoom-in" data-aos-delay="100"><img src="https://i.postimg.cc/yxHFW72T/521981772.jpg" alt="Our Moment 1" class="gallery-img"></div>
                <div data-aos="zoom-in" data-aos-delay="200"><img src="https://i.postimg.cc/W1bwMbzW/images.jpg" alt="Our Moment 2" class="gallery-img"></div>
                <div data-aos="zoom-in" data-aos-delay="300"><img src="https://i.postimg.cc/bv40cxTW/f64d1a3b9548c432ddd1888e4b9c9836.jpg" alt="Our Moment 3" class="gallery-img"></div>
                <div data-aos="zoom-in" data-aos-delay="400"><img src="https://i.postimg.cc/rsN5rvk2/56e3c795e052e2eb30b7be8637ad53a3.jpg" alt="Our Moment 4" class="gallery-img"></div>
            </div>
        </div>
    </section>
    
    <!-- Guest Accommodations Section -->
    <section id="accommodations" class="py-20 px-6 bg-amber-50">
        <div class="max-w-4xl mx-auto text-center">
            <h2 class="font-great-vibes text-5xl md:text-7xl text-amber-800 mb-6" data-aos="fade-up">Guest Accommodations</h2>
            <p class="text-lg md:text-xl leading-relaxed text-gray-600 mb-8" data-aos="fade-up" data-aos-delay="100">
                For our out-of-town guests, we have arranged accommodations. Please feel free to reach out for any assistance.
            </p>
            <div class="flex flex-col md:flex-row justify-center items-center gap-8 md:gap-16" data-aos="fade-up" data-aos-delay="200">
                <div class="text-center">
                    <i class="fas fa-phone-alt text-3xl text-amber-800 mb-3"></i>
                    <h3 class="font-playfair text-2xl font-semibold text-amber-900">Surya</h3>
                    <a href="tel:6300057593" class="text-lg text-gray-700 hover:text-amber-800 transition-colors">6300057593</a>
                </div>
                 <div class="text-center">
                     <i class="fas fa-phone-alt text-3xl text-amber-800 mb-3"></i>
                    <h3 class="font-playfair text-2xl font-semibold text-amber-900">Pradeep</h3>
                    <a href="tel:9014146464" class="text-lg text-gray-700 hover:text-amber-800 transition-colors">9014146464</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Wishes Form Section -->
    <section id="wishes" class="py-20 px-6 bg-white">
        <div class="max-w-4xl mx-auto text-center">
            <h2 class="font-great-vibes text-5xl md:text-7xl text-amber-800 mb-4" data-aos="fade-up">Send Your Wishes</h2>
            <p class="text-lg text-gray-600 mb-8" data-aos="fade-up" data-aos-delay="100">Your blessings are the most precious gift to us.</p>
            
            <!-- Wish Form -->
            <form id="wish-form" class="max-w-xl mx-auto text-left space-y-4" data-aos="fade-up" data-aos-delay="200">
                <div>
                    <label for="wisher-name" class="block text-sm font-medium text-gray-700">Your Name</label>
                    <input type="text" id="wisher-name" class="mt-1 block w-full px-4 py-2 bg-amber-50 border border-amber-200 rounded-lg shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500" required>
                </div>
                <div>
                    <label for="wish-message" class="block text-sm font-medium text-gray-700">Your Message</label>
                    <textarea id="wish-message" rows="4" class="mt-1 block w-full px-4 py-2 bg-amber-50 border border-amber-200 rounded-lg shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500" required></textarea>
                </div>
                <div class="text-center">
                    <button type="submit" class="inline-block bg-amber-800 text-white font-semibold py-3 px-8 rounded-lg hover:bg-amber-900 transition-colors duration-300">
                        <i class="fas fa-paper-plane mr-2"></i>Send Wish
                    </button>
                </div>
            </form>
        </div>
    </section>

    <!-- Guestbook / Wishes Display Section -->
    <section id="guestbook" class="py-20 px-6">
        <div class="max-w-4xl mx-auto text-center">
            <h2 class="font-great-vibes text-5xl md:text-7xl text-amber-800 mb-12" data-aos="fade-up">Messages of Love</h2>
            <!-- Display Wishes -->
            <div id="wishes-container" class="space-y-6 text-left">
                <!-- Wishes will be dynamically inserted here -->
                <div class="text-center text-gray-500" id="loading-wishes">Loading wishes...</div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-8 text-center bg-amber-50">
        <p class="text-amber-900">&copy; 2025 Divya & Rohit Rishi</p>
        <p class="text-sm text-amber-800 mt-2">Made with <i class="fas fa-heart text-red-500"></i> by a loving friend</p>
    </footer>

    <!-- Firebase SDK -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, addDoc, query, onSnapshot, serverTimestamp, orderBy } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        
        // Your web app's Firebase configuration
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : { apiKey: "your-fallback-api-key", authDomain: "your-fallback-auth-domain", projectId: "your-fallback-project-id" };
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-wedding-app';

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        
        // Sign in anonymously to allow writing to the database
        signInAnonymously(auth).catch((error) => {
            console.error("Anonymous sign-in failed:", error);
        });

        onAuthStateChanged(auth, (user) => {
            if (user) {
                // User is signed in, you can now set up listeners.
                setupWishesListener();
            } else {
                // User is signed out.
                console.log("User is signed out.");
            }
        });


        // Reference to the 'wishes' collection
        const wishesCollection = collection(db, `/artifacts/${appId}/public/data/wishes`);

        // Handle form submission
        const wishForm = document.getElementById('wish-form');
        wishForm.addEventListener('submit', async (e) => {
            e.preventDefault();

            const nameInput = document.getElementById('wisher-name');
            const messageInput = document.getElementById('wish-message');
            
            const name = nameInput.value.trim();
            const message = messageInput.value.trim();

            if (name && message) {
                try {
                    await addDoc(wishesCollection, {
                        name: name,
                        message: message,
                        createdAt: serverTimestamp()
                    });
                    // Clear the form
                    nameInput.value = '';
                    messageInput.value = '';
                    // Optional: Show a success message
                    alert('Your wish has been sent! Thank you!');
                } catch (error) {
                    console.error("Error adding document: ", error);
                    alert("There was an error sending your wish. Please try again.");
                }
            }
        });
        
        // Listen for real-time updates and display wishes
        function setupWishesListener() {
            const wishesContainer = document.getElementById('wishes-container');
            const loadingIndicator = document.getElementById('loading-wishes');
            
            // Query to order wishes by creation date, newest first
            const q = query(wishesCollection, orderBy("createdAt", "desc"));

            onSnapshot(q, (snapshot) => {
                if (snapshot.empty) {
                    wishesContainer.innerHTML = '<p class="text-center text-gray-500">Be the first to send a wish!</p>';
                } else {
                     // Clear existing wishes
                    wishesContainer.innerHTML = '';
                    snapshot.forEach(doc => {
                        const wish = doc.data();
                        const wishElement = document.createElement('div');
                        wishElement.classList.add('wish-card', 'p-4', 'rounded-lg', 'shadow-sm');
                        wishElement.setAttribute('data-aos', 'fade-up');
                        
                        const messageP = document.createElement('p');
                        messageP.classList.add('text-gray-700', 'italic');
                        messageP.textContent = `"${wish.message}"`;
                        
                        const nameP = document.createElement('p');
                        nameP.classList.add('text-right', 'font-semibold', 'text-amber-800', 'mt-2');
                        nameP.textContent = `- ${wish.name}`;
                        
                        wishElement.appendChild(messageP);
                        wishElement.appendChild(nameP);
                        
                        wishesContainer.appendChild(wishElement);
                    });
                     // Re-initialize AOS to animate new elements
                    AOS.refresh();
                }
            }, (error) => {
                console.error("Error getting wishes: ", error);
                wishesContainer.innerHTML = '<p class="text-center text-red-500">Could not load wishes at this time.</p>';
            });
        }
    </script>
    
    <!-- AOS Script -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({
            once: true, // Whether animation should happen only once - while scrolling down
            mirror: false, // Whether elements should animate out while scrolling past them
        });
        
        // Music toggle script (FIXED)
        const musicToggle = document.getElementById('music-toggle');
        const music = document.getElementById('bg-music');
        const musicIcon = document.getElementById('music-icon');

        musicToggle.addEventListener('click', () => {
            // Disable the button to prevent rapid clicks which causes the error
            musicToggle.disabled = true;

            if (music.paused) {
                const playPromise = music.play();
                if (playPromise !== undefined) {
                    playPromise.then(_ => {
                        // Playback started successfully.
                        musicIcon.classList.remove('fa-play');
                        musicIcon.classList.add('fa-pause');
                        musicToggle.disabled = false; // Re-enable button
                    }).catch(error => {
                        // Autoplay was prevented.
                        console.error("Music play was prevented:", error);
                        musicToggle.disabled = false; // Re-enable button
                    });
                }
            } else {
                music.pause();
                musicIcon.classList.remove('fa-pause');
                musicIcon.classList.add('fa-play');
                musicToggle.disabled = false; // Re-enable button
            }
        });
    </script>
</body>
</html>
